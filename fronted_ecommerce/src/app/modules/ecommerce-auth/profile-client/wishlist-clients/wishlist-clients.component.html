<div class="shop_cart_wrap wishlist">
    <div class="row align-items-center mb-4">
        <div class="col-12">
            <h4 class="text_xl font-weight-bolder" style="color: var(--text-color, #333);">{{ 'My Wishlist' | translate
                }}</h4>
            <p class="text-muted">{{ 'Your saved items ready to be added to cart.' | translate }}</p>
        </div>
    </div>

    <ng-container *ngIf="listWish.length > 0; else noWishlist">
        <ng-container *ngFor="let wish of listWish">
            <div class="single_shop_cart d-flex align-items-center flex-wrap shadow-sm p-4 mb-3"
                style="background: var(--bg-color, #fff); border-radius: 12px; border: 1px solid var(--border-color, rgba(0,0,0,0.05));">

                <div class="cart_img mb-md-0 mr-4"
                    style="width: 80px; height: 80px; border-radius: 8px; overflow: hidden; border: 1px solid rgba(0,0,0,0.05); flex-shrink: 0; position: relative;">
                    <img loading="lazy" [src]="wish.product.imagen" alt="product"
                        style="width: 100%; height: 100%; object-fit: cover;">
                </div>

                <div class="cart_cont flex-grow-1" style="min-width: 250px;">
                    <a [href]="'/producto/'+wish.product.slug" style="text-decoration: none;">
                        <h5 class="mb-1 text-dark font-weight-bold" style="font-size: 1.1rem; transition: color 0.2s;"
                            onmouseover="this.style.color='var(--primary-color)'" onmouseout="this.style.color=''">{{
                            wish.product.title }}</h5>
                    </a>
                    <p class="instock mb-0 text-muted" style="font-size: 0.85rem;">{{ 'Availability' | translate }}:
                        <span class="text-success font-weight-500"><i class="las la-check-circle"></i> {{ 'In Stock' |
                            translate }}</span></p>
                </div>

                <div class="cart_price ms-md-auto ms-0 px-4 text-md-center">
                    <p class="font-weight-bold text-primary m-0" style="font-size: 1.25rem;">{{ wish.product.price_soles
                        }} PEN</p>
                </div>

                <div class="wish_cart_btn ms-md-auto ms-0 mt-3 mt-md-0 px-md-3">
                    <button class="btn btn-primary rounded d-flex align-items-center gap-2" (click)="addCart(wish)"
                        style="padding: 10px 20px;">
                        <i class="las la-shopping-cart" style="font-size: 1.2rem;"></i> {{ 'Add to Cart' | translate }}
                    </button>
                </div>

                <div class="cart_remove ms-auto align-self-end align-self-md-center pl-3">
                    <button class="btn btn-icon btn-light text-danger" (click)="deleteItem(wish)"
                        style="width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 1px solid rgba(0,0,0,0.05);">
                        <i class="icon-trash" style="font-size: 1.2rem;"></i>
                    </button>
                </div>
            </div>
        </ng-container>
    </ng-container>

    <ng-template #noWishlist>
        <div class="text-center p-5 rounded" style="background: rgba(0,0,0,0.02); border: 1px dashed rgba(0,0,0,0.1);">
            <div class="mb-3">
                <i class="las la-heart text-muted" style="font-size: 4rem; opacity: 0.5;"></i>
            </div>
            <h5 class="text-muted">{{ 'Your wishlist is empty' | translate }}</h5>
            <p class="text-sm mt-2">{{ 'Explore our products and tap the heart icon to save them here.' | translate }}
            </p>
            <a routerLink="/" class="btn btn-primary mt-3 px-4 py-2" style="border-radius: 8px;">{{ 'Browse Products' |
                translate }}</a>
        </div>
    </ng-template>
</div>