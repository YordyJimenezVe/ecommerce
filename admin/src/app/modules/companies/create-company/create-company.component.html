<div class="card card-custom gutter-b">
    <div class="card-header">
        <div class="card-title">
            <h3 class="card-label">Nueva Empresa</h3>
        </div>
        <div class="card-toolbar">
            <a [routerLink]="['/companies/list']" class="btn btn-light-primary font-weight-bolder">
                <i class="ki ki-long-arrow-back icon-sm"></i> Regresar
            </a>
        </div>
    </div>
    <div class="card-body">
        <div class="form-group row">
            <div class="col-lg-6">
                <label>Nombre de la Empresa <span class="text-danger">*</span></label>
                <input type="text" class="form-control" placeholder="Ej: Tech Solutions" name="name" [(ngModel)]="name">
            </div>
            <div class="col-lg-6">
                <label>Slug (URL) <span class="text-danger">*</span></label>
                <input type="text" class="form-control" placeholder="Ej: tech-solutions" name="slug" [(ngModel)]="slug">
            </div>
        </div>
        <div class="form-group row">
            <div class="col-lg-6">
                <label>Email Administrador <span class="text-danger">*</span></label>
                <input type="email" class="form-control" placeholder="admin@empresa.com" name="email_admin"
                    [(ngModel)]="email_admin">
            </div>
            <div class="col-lg-6">
                <label>Contraseña Admin <span class="text-danger">*</span></label>
                <input type="password" class="form-control" name="password_admin" [(ngModel)]="password_admin">
            </div>
        </div>
        <div class="form-group row">
            <div class="col-lg-12">
                <label>Descripción</label>
                <textarea class="form-control" rows="3" name="description" [(ngModel)]="description"></textarea>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-lg-12">
                <label>Logo</label>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" (change)="processFile($event)" accept="image/*">
                    <label class="custom-file-label">Elige un archivo</label>
                </div>
                <!-- Preview Logo -->
                <div class="mt-4 text-center" *ngIf="logo_preview">
                    <div class="image-input image-input-outline">
                        <div class="image-input-wrapper" [style.backgroundImage]="'url(' + logo_preview + ')'"
                            style="width: 150px; height: 150px; background-size: cover; background-position: center; border-radius: 10px; box-shadow: 0 0.5rem 1.5rem 0.5rem rgba(0,0,0,0.075);">
                        </div>
                    </div>
                    <span class="form-text text-muted mt-2">Vista previa del logo</span>
                </div>
            </div>
        </div>

        <div class="separator separator-dashed my-10"></div>
        <h5 class="mb-5">Información de Membresía</h5>

        <div class="form-group row">
            <div class="col-lg-6">
                <label>Duración de Membresía</label>
                <select class="form-control" name="membership_duration" [(ngModel)]="membership_duration">
                    <option [ngValue]="1">1 Mes</option>
                    <option [ngValue]="3">3 Meses</option>
                    <option [ngValue]="6">6 Meses</option>
                    <option [ngValue]="12">1 Año</option>
                </select>
            </div>
            <div class="col-lg-6">
                <label>Método de Pago</label>
                <select class="form-control" name="payment_method" [(ngModel)]="payment_method">
                    <option value="free">Gratuito</option>
                    <option value="cash">Efectivo</option>
                    <option value="transfer">Transferencia</option>
                </select>
            </div>
        </div>

        <div class="form-group row" *ngIf="payment_method === 'free'">
            <div class="col-lg-12">
                <label>Razón/Motivo de Gratuidad <span class="text-danger">*</span></label>
                <textarea class="form-control" rows="3" name="reason" [(ngModel)]="reason"></textarea>
            </div>
        </div>

        <div class="form-group row" *ngIf="payment_method !== 'free'">
            <div class="col-lg-6">
                <label>Monto Cancelado <span class="text-danger">*</span></label>
                <input type="number" class="form-control" name="payment_amount" [(ngModel)]="payment_amount">
            </div>
            <div class="col-lg-6">
                <label>Comprobante de Pago <span class="text-danger">*</span></label>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" (change)="processProof($event)">
                    <label class="custom-file-label">Subir Imagen</label>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-lg-12 text-right">
                <button type="button" class="btn btn-primary" (click)="save()">Guardar Empresa</button>
            </div>
        </div>
    </div>
</div>